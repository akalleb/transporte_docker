{
  "meta": {
    "project": "Transporte 2.0",
    "date": "2026-02-21",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Transporte 2.0 é uma plataforma SaaS para gestão de frotas, agendamento de viagens e atendimento via WhatsApp destinada a Secretarias de Saúde, centralizando operações e controles em uma interface web. Fornece autenticação segura, CRUD de veículos e registro de manutenções, além de um sistema de atendimento integrado ao WhatsApp.",
  "core_goals": [
    "Centralizar gestão de frota, motoristas e agendamentos em uma única plataforma",
    "Reduzir custos por meio de controle e histórico de manutenções",
    "Agilizar comunicação com integração via WhatsApp para suporte e coordenação",
    "Garantir segurança com autenticação e controle de acesso baseado em funções",
    "Fornecer interface responsiva e confiável com tratamento de erros claro"
  ],
  "features": [
    {
      "name": "Authentication",
      "description": "Login com email/senha, fluxo de recuperação e redefinição de senha, e gerenciamento de perfil básico (acesso ao /perfil).",
      "user_flows": [
        "Navigate to /login -> Fill email field -> Fill password field -> Click Login button -> See dashboard at /",
        "Navigate to /login -> Fill email field with incorrect password -> Click Login button -> See authentication error message",
        "Navigate to /login -> Click Forgot Password link -> Navigate to /esqueci-senha -> Fill email field -> Click Send reset request -> See confirmation message about email sent -> Open password reset link from email -> Navigate to /redefinir-senha -> Fill new password field -> Click Reset button -> See confirmation and Navigate to /login",
        "Navigate to /redefinir-senha with expired or invalid token -> Fill new password field -> Click Reset button -> See token invalid/expired error message"
      ]
    },
    {
      "name": "Fleet Management",
      "description": "Listagem e CRUD de veículos, registro e histórico de manutenções, filtros e estatísticas de frota na página /frota.",
      "user_flows": [
        "Navigate to /frota -> View vehicle list",
        "Navigate to /frota -> Click Add Vehicle button -> Fill required vehicle fields (Marca, Modelo, Ano, Placa, Tipo, Status, Odômetro) -> Click Save -> See new vehicle appear in vehicle list",
        "Navigate to /frota -> Select vehicle from list -> Click Edit vehicle button -> Update fields -> Click Save -> See updated vehicle details in list",
        "Navigate to /frota -> Click Add Maintenance on a vehicle -> Fill maintenance fields (Data, Custo, Oficina, Descrição) -> Click Save -> See maintenance record in vehicle maintenance history",
        "Navigate to /frota -> Click Add Vehicle button -> Fill vehicle form with duplicate Placa -> Click Save -> See validation error indicating duplicate placa",
        "Navigate to /frota -> Click Add Maintenance on a vehicle -> Leave required maintenance fields empty -> Click Save -> See validation errors for required fields"
      ]
    },
    {
      "name": "Attendance System",
      "description": "Interface de atendimento via WhatsApp em /atendimento: visualização de conversas ativas, envio/recebimento de mensagens e conexão via QR Code.",
      "user_flows": [
        "Navigate to /atendimento -> See list of active chats and connection status",
        "Navigate to /atendimento -> Click Connect/Scan QR Code -> See QR code displayed -> Scan QR code with WhatsApp -> See 'Connected' status",
        "Navigate to /atendimento -> Click an active chat -> Type message in input -> Click Send button -> See message appear in conversation thread",
        "Navigate to /atendimento -> Click an active chat -> Click Send button with empty message -> See validation error preventing empty send",
        "Navigate to /atendimento while WhatsApp service is disconnected -> Click an open chat -> Type message -> Click Send button -> See error indicating message could not be sent and disconnected status"
      ]
    },
    {
      "name": "Agenda",
      "description": "Agendamento de viagens e compromissos em /agenda (módulo em desenvolvimento) com vinculação a veículos e status de agendamento.",
      "user_flows": [
        "Navigate to /agenda -> See list of scheduled trips and status filters",
        "Navigate to /agenda -> Click New Schedule button -> Fill required schedule fields (Solicitante, Data/Hora, Origem, Destino, Veículo preferido) -> Click Save -> See new appointment listed with status Pendente",
        "Navigate to /agenda -> Click New Schedule button -> Fill schedule with conflicting time or unavailable vehicle -> Click Save -> See validation error about conflict or unavailable vehicle",
        "Navigate to /agenda -> Select an appointment -> Change status to Confirmado -> Click Save -> See appointment status updated to Confirmado"
      ]
    },
    {
      "name": "Configurations",
      "description": "Página de ajustes gerais e gestão de usuários em /configuracoes para administradores do sistema.",
      "user_flows": [
        "Navigate to /configuracoes -> View system parameters and user management section",
        "Navigate to /configuracoes -> Change a global parameter value -> Click Save -> See success confirmation message",
        "Navigate to /configuracoes as non-admin user -> Attempt to access user management section -> See access denied or insufficient permissions message",
        "Navigate to /configuracoes -> Create or edit a user (Admin) -> Fill user fields -> Click Save -> See updated user listed in management table"
      ]
    },
    {
      "name": "Profile Management",
      "description": "Gerenciamento de dados pessoais e alteração de senha na página /perfil.",
      "user_flows": [
        "Navigate to /perfil -> See current profile information populated",
        "Navigate to /perfil -> Update personal fields (name, phone, email) -> Click Save -> See success confirmation and updated profile data",
        "Navigate to /perfil -> Click Change Password -> Fill current password field -> Fill new password field -> Click Save -> See password change confirmation",
        "Navigate to /perfil -> Click Change Password -> Fill incorrect current password -> Fill new password field -> Click Save -> See error indicating current password is incorrect"
      ]
    }
  ],
  "code_summary": {
    "version": "2",
    "type": "frontend",
    "tech_stack": [
      "TypeScript",
      "Nuxt 3",
      "Vue 3",
      "Tailwind CSS",
      "Supabase",
      "Lucide Vue Next"
    ],
    "routes": [
      {
        "path": "/",
        "file": "app/pages/index.vue",
        "auth_required": true,
        "description": "Dashboard or landing page"
      },
      {
        "path": "/login",
        "file": "app/pages/login.vue",
        "auth_required": false,
        "description": "User login page"
      },
      {
        "path": "/frota",
        "file": "app/pages/frota.vue",
        "auth_required": true,
        "description": "Fleet management dashboard and CRUD"
      },
      {
        "path": "/atendimento",
        "file": "app/pages/atendimento.vue",
        "auth_required": true,
        "description": "WhatsApp attendance interface"
      },
      {
        "path": "/agenda",
        "file": "app/pages/agenda.vue",
        "auth_required": true,
        "description": "Scheduling interface"
      },
      {
        "path": "/configuracoes",
        "file": "app/pages/configuracoes.vue",
        "auth_required": true,
        "description": "System settings"
      },
      {
        "path": "/perfil",
        "file": "app/pages/perfil.vue",
        "auth_required": true,
        "description": "User profile management"
      },
      {
        "path": "/esqueci-senha",
        "file": "app/pages/esqueci-senha.vue",
        "auth_required": false,
        "description": "Password recovery request"
      },
      {
        "path": "/redefinir-senha",
        "file": "app/pages/redefinir-senha.vue",
        "auth_required": false,
        "description": "Password reset form"
      }
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "Login, password recovery, and profile management",
        "files": [
          "app/pages/login.vue",
          "app/pages/esqueci-senha.vue",
          "app/pages/redefinir-senha.vue",
          "app/components/login/LoginForm.vue"
        ],
        "entry_route": "/login",
        "user_interactions": [
          "Fill email and password",
          "Click Login button",
          "Click Forgot Password link"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/auth/v1/token"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Fleet Management",
        "description": "Manage vehicles and maintenance records",
        "files": [
          "app/pages/frota.vue",
          "app/modules/fleet/composables/useFleet.ts",
          "app/modules/fleet/components/FleetTable.vue",
          "app/modules/fleet/components/FleetFormDrawer.vue",
          "app/modules/fleet/components/MaintenanceFormDrawer.vue"
        ],
        "entry_route": "/frota",
        "user_interactions": [
          "View vehicle list",
          "Add new vehicle",
          "Edit vehicle details",
          "Add maintenance record",
          "View maintenance history"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/rest/v1/vehicles"
          },
          {
            "method": "POST",
            "endpoint": "/rest/v1/vehicles"
          },
          {
            "method": "GET",
            "endpoint": "/rest/v1/maintenance_records"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Attendance System",
        "description": "WhatsApp integration for support",
        "files": [
          "app/pages/atendimento.vue"
        ],
        "entry_route": "/atendimento",
        "user_interactions": [
          "View active chats",
          "Send messages"
        ],
        "auth_required": true
      }
    ],
    "known_limitations": []
  }
}
